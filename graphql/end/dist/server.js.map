{"version":3,"sources":["../src/server.js"],"names":["cors","require","PORT","server","console","log","process","env","NEO4J_URI","warn","NEO4J_USER","NEO4J_PASSWORD","use","json","schema","rootValue","context","request","headers","endpointURL","query","listen"],"mappings":"aAAA,kC;AACA;AACA,yC;;;AAGA,kC,6FAFA,IAAIA,OAAOC,QAAQ,MAAR,CAAX;;AAIA,IAAMC,OAAO,IAAb;AACA,IAAMC,SAAS,wBAAf;AACAC,QAAQC,GAAR,CAAYC,QAAQC,GAAR,CAAYC,SAAxB;AACA,IAAI,OAAOF,QAAQC,GAAR,CAAYC,SAAnB,KAAiC,WAArC,EAAkD;AAChDJ,UAAQK,IAAR,CAAa,qFAAb;AACD;AACD,IAAI,OAAOH,QAAQC,GAAR,CAAYG,UAAnB,KAAkC,WAAtC,EAAmD;AACjDN,UAAQK,IAAR,CAAa,sFAAb;AACD;AACD,IAAI,OAAOH,QAAQC,GAAR,CAAYI,cAAnB,KAAsC,WAA1C,EAAuD;AACrDP,UAAQK,IAAR,CAAa,0FAAb;AACD;;AAEDN,OAAOS,GAAP,CAAW,UAAX,EAAuBZ,MAAvB,EAA8B,qBAAWa,IAAX,EAA9B,EAAiD,0CAAe,2BAAY;AAC1EC,0BAD0E;AAE1EC,gCAF0E;AAG1EC,aAAS,qBAAQC,QAAQC,OAAhB,EAAyBZ,QAAQC,GAAjC,CAHiE,EAAZ,EAAf,CAAjD;;;AAMAJ,OAAOS,GAAP,CAAW,WAAX,EAAwB,2CAAgB;AACtCO,eAAa,UADyB;AAEtCC,6JAFsC,EAAhB,CAAxB;;;;;;;;;;;;;;;AAiBAjB,OAAOkB,MAAP,CAAcnB,IAAd,EAAoB,YAAM;AACxBE,UAAQC,GAAR,wDAAiEH,IAAjE;AACAE,UAAQC,GAAR,wCAAiDH,IAAjD;AACD,CAHD","file":"server.js","sourcesContent":["import express from 'express';\nimport { graphqlExpress, graphiqlExpress } from 'graphql-server-express';\nimport bodyParser from 'body-parser';\nvar cors = require('cors')\n\nimport { schema, rootValue, context } from './schema';\n\nconst PORT = 3001;\nconst server = express();\nconsole.log(process.env.NEO4J_URI)\nif (typeof process.env.NEO4J_URI === 'undefined') {\n  console.warn('WARNING: process.env.NEO4J_URI is not defined. Check README.md for more information');\n}\nif (typeof process.env.NEO4J_USER === 'undefined') {\n  console.warn('WARNING: process.env.NEO4J_USER is not defined. Check README.md for more information');\n}\nif (typeof process.env.NEO4J_PASSWORD === 'undefined') {\n  console.warn('WARNING: process.env.NEO4J_PASSWORD is not defined. Check README.md for more information');\n}\n\nserver.use('/graphql', cors(),bodyParser.json(), graphqlExpress(request => ({\n  schema,\n  rootValue,\n  context: context(request.headers, process.env),\n})));\n\nserver.use('/graphiql', graphiqlExpress({\n  endpointURL: '/graphql',\n  query: `# Welcome to GraphiQL\n\n{\n  moviesByTitle(subString:\"Matrix\") {\n    movieId\n    title\n    genres\n    similar {\n      title\n    }\n  }\n}\n`,\n}));\n\nserver.listen(PORT, () => {\n  console.log(`GraphQL Server is now running on http://localhost:${PORT}/graphql`);\n  console.log(`View GraphiQL at http://localhost:${PORT}/graphiql`);\n});"]}